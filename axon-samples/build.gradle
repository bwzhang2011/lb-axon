project.ext {
    bundleInportPackages = [ '*' ]
    bundleExportPackages = [ '*' ]
}

dependencies {
    compile project(':axon-hazelcast')
    compile project(':axon-chronicle')

    compile "com.hazelcast:hazelcast:$hazelcastVersion"
    compile "com.hazelcast:hazelcast-spring:$hazelcastVersion"
    compile "org.springframework:spring-context:$springVersion"
}

jar {
    manifest {
        instruction 'Import-Package' , bundleInportPackages.join(',')
        instruction 'Export-Package' , bundleExportPackages.join(',')
    }
}

// *****************************************************************************
//
// *****************************************************************************

task axonHzSimpleApp(dependsOn: classes) << {
    javaexec {
        main = 'org.axonframework.ext.hazelcast.samples.queue.SimpleApp'
        classpath = project.runtimeClasspath
    }
}

task axonHzEngine(dependsOn: classes) << {
    javaexec {
        main = 'org.axonframework.ext.hazelcast.samples.executor.AxonNode'
        classpath = project.runtimeClasspath
    }
}

task axonHzProcessor(dependsOn: classes) << {
    javaexec {
        main = 'org.axonframework.ext.hazelcast.samples.executor.AxonNodeProcessor'
        classpath = project.runtimeClasspath
    }
}

